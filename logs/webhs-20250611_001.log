2025-06-11 08:41:04.823 +07:00 [INF] Starting database basic initialization...
2025-06-11 08:41:06.092 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-11 08:41:06.144 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-11 08:41:06.153 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-11 08:41:06.160 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-11 08:41:06.185 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-11 08:41:06.211 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-11 08:41:06.238 +07:00 [INF] User profile is available. Using 'C:\Users\84788\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-11 08:41:06.487 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:41:06.532 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:41:06.536 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:41:06.552 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:06.603 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:06.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:06.611 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:06.614 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:06.617 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:06.620 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:06.622 +07:00 [INF] Starting sample data seeding...
2025-06-11 08:41:06.624 +07:00 [INF] Starting data seeding...
2025-06-11 08:41:06.642 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Amenities] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:06.645 +07:00 [INF] Amenities already exist, skipping seed
2025-06-11 08:41:06.652 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Homestays] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:06.654 +07:00 [INF] Homestays already exist, skipping seed
2025-06-11 08:41:06.662 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Promotions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:06.664 +07:00 [INF] Promotions already exist, skipping seed
2025-06-11 08:41:06.671 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Bookings] AS [b]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:06.674 +07:00 [INF] Bookings already exist, skipping seed
2025-06-11 08:41:06.692 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Status] = 4 AND [b].[ReviewRating] IS NULL
2025-06-11 08:41:06.701 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:06.703 +07:00 [INF] Payments already exist, skipping seed
2025-06-11 08:41:06.705 +07:00 [INF] Data seeding completed successfully
2025-06-11 08:41:06.706 +07:00 [INF] Sample data seeding completed successfully.
2025-06-11 08:41:06.707 +07:00 [INF] Database initialization completed successfully.
2025-06-11 08:41:06.736 +07:00 [INF] Background Job Service started
2025-06-11 08:41:06.781 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BookingId], [p].[CompletedAt], [p].[CreatedAt], [p].[Notes], [p].[PaymentMethod], [p].[Status], [p].[TransactionId], [p].[UpdatedAt], [p].[UserId]
FROM [Payments] AS [p]
WHERE [p].[Status] = 0 AND [p].[CreatedAt] < DATEADD(hour, CAST(-24.0E0 AS int), GETUTCDATE())
2025-06-11 08:41:06.804 +07:00 [INF] Processed 0 expired payments
2025-06-11 08:41:06.895 +07:00 [INF] Now listening on: http://localhost:5000
2025-06-11 08:41:06.934 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-11 08:41:06.935 +07:00 [INF] Hosting environment: Development
2025-06-11 08:41:06.937 +07:00 [INF] Content root path: D:\WebHS
2025-06-11 08:41:07.345 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:41:07.530 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:07.540 +07:00 [WRN] Failed to determine the https port for redirect.
2025-06-11 08:41:07.599 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:41:07.615 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:41:07.752 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-11 08:41:07.763 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:41:07.890 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:41:08.007 +07:00 [INF] Executed ViewResult - view Index executed in 119.2393ms.
2025-06-11 08:41:08.012 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 393.9281ms
2025-06-11 08:41:08.015 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:41:08.015 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/WebHS.styles.css?v=4cUw_AF79P7rt-UFsUXUHCAeEp0KONQ6ADzcsctUyxM - null null
2025-06-11 08:41:08.016 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/placeholder-homestay.svg - null null
2025-06-11 08:41:08.019 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:08.026 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:08.026 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:08.029 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:41:08.031 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:41:08.040 +07:00 [INF] The file /WebHS.styles.css was not modified
2025-06-11 08:41:08.040 +07:00 [INF] The file /images/placeholder-homestay.svg was not modified
2025-06-11 08:41:08.044 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 13.5822ms
2025-06-11 08:41:08.049 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:08.044 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 708.4676ms
2025-06-11 08:41:08.065 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/images/placeholder-homestay.svg - 304 null image/svg+xml 48.5874ms
2025-06-11 08:41:08.049 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:08.073 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/WebHS.styles.css?v=4cUw_AF79P7rt-UFsUXUHCAeEp0KONQ6ADzcsctUyxM - 304 null text/css 58.3281ms
2025-06-11 08:41:08.084 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.4265ms
2025-06-11 08:41:13.916 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:41:13.924 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:13.927 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:41:13.928 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:41:13.933 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:41:13.940 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:41:13.947 +07:00 [INF] Executed ViewResult - view Index executed in 6.8714ms.
2025-06-11 08:41:13.948 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 17.9985ms
2025-06-11 08:41:13.949 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:41:13.950 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:13.951 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 35.1627ms
2025-06-11 08:41:13.953 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:41:13.954 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:41:13.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 8.8855ms
2025-06-11 08:41:13.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.8406ms
2025-06-11 08:41:14.345 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay - null null
2025-06-11 08:41:14.349 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:14.354 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:41:14.365 +07:00 [INF] Route matched with {action = "Index", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(WebHS.ViewModels.HomestaySearchViewModel) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:41:14.415 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Homestays] AS [h]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
2025-06-11 08:41:14.433 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-11 08:41:14.447 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t0].[Id], [t0].[CheckInDate], [t0].[CheckOutDate], [t0].[CreatedAt], [t0].[DiscountAmount], [t0].[FinalAmount], [t0].[HomestayId], [t0].[Notes], [t0].[NumberOfGuests], [t0].[PromotionId], [t0].[ReviewComment], [t0].[ReviewCreatedAt], [t0].[ReviewIsActive], [t0].[ReviewRating], [t0].[ReviewUpdatedAt], [t0].[Status], [t0].[TotalAmount], [t0].[UpdatedAt], [t0].[UserId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
    ORDER BY [h].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t0] ON [t].[Id] = [t0].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h0].[Id]
2025-06-11 08:41:14.466 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:14.470 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:14.476 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:14.479 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:14.487 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreatedAt], [a].[Description], [a].[Icon], [a].[IsActive], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit)
ORDER BY [a].[Name]
2025-06-11 08:41:14.501 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:41:14.544 +07:00 [INF] Executed ViewResult - view Index executed in 44.0812ms.
2025-06-11 08:41:14.546 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Index (WebHS) in 179.3525ms
2025-06-11 08:41:14.548 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:41:14.550 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:14.551 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay - 200 null text/html; charset=utf-8 206.2032ms
2025-06-11 08:41:14.553 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:41:14.554 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:41:14.562 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 7.649ms
2025-06-11 08:41:14.663 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.1872ms
2025-06-11 08:41:16.618 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login - null null
2025-06-11 08:41:16.622 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:16.625 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:41:16.628 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:41:16.635 +07:00 [INF] Executing ViewResult, running view Login.
2025-06-11 08:41:16.656 +07:00 [INF] Executed ViewResult - view Login executed in 21.6801ms.
2025-06-11 08:41:16.658 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 28.8612ms
2025-06-11 08:41:16.659 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:41:16.661 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:16.662 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Account/Login - 200 null text/html; charset=utf-8 43.9952ms
2025-06-11 08:41:16.665 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:41:16.666 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:41:16.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.2076ms
2025-06-11 08:41:16.674 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0666ms
2025-06-11 08:41:18.752 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login - application/x-www-form-urlencoded 250
2025-06-11 08:41:18.757 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:41:18.757 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:41:18.761 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:41:18.765 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebHS.ViewModels.LoginViewModel, System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:41:18.780 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:41:18.791 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-06-11 08:41:18.882 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-11 08:41:18.899 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:41:18.903 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:41:18.911 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-11 08:41:18.917 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-11 08:41:18.919 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-06-11 08:41:18.920 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 152.6219ms
2025-06-11 08:41:18.921 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:41:18.922 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Account/Login - 302 0 null 170.4706ms
2025-06-11 08:41:18.925 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:41:18.929 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:18.932 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:41:18.933 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:41:18.936 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:41:18.941 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:41:18.945 +07:00 [INF] Executed ViewResult - view Index executed in 3.848ms.
2025-06-11 08:41:18.946 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 11.819ms
2025-06-11 08:41:18.947 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:41:18.948 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:18.949 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 23.3012ms
2025-06-11 08:41:18.951 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:41:18.952 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:41:18.958 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.0625ms
2025-06-11 08:41:18.958 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 6.6003ms
2025-06-11 08:41:19.773 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay - null null
2025-06-11 08:41:19.777 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:19.779 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:41:19.780 +07:00 [INF] Route matched with {action = "Index", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(WebHS.ViewModels.HomestaySearchViewModel) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:41:19.784 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Homestays] AS [h]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
2025-06-11 08:41:19.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t0].[Id], [t0].[CheckInDate], [t0].[CheckOutDate], [t0].[CreatedAt], [t0].[DiscountAmount], [t0].[FinalAmount], [t0].[HomestayId], [t0].[Notes], [t0].[NumberOfGuests], [t0].[PromotionId], [t0].[ReviewComment], [t0].[ReviewCreatedAt], [t0].[ReviewIsActive], [t0].[ReviewRating], [t0].[ReviewUpdatedAt], [t0].[Status], [t0].[TotalAmount], [t0].[UpdatedAt], [t0].[UserId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
    ORDER BY [h].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t0] ON [t].[Id] = [t0].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h0].[Id]
2025-06-11 08:41:19.793 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:19.796 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:19.798 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:19.801 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:41:19.804 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreatedAt], [a].[Description], [a].[Icon], [a].[IsActive], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit)
ORDER BY [a].[Name]
2025-06-11 08:41:19.806 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:41:19.810 +07:00 [INF] Executed ViewResult - view Index executed in 3.1974ms.
2025-06-11 08:41:19.811 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Index (WebHS) in 29.745ms
2025-06-11 08:41:19.812 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:41:19.813 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:19.814 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay - 200 null text/html; charset=utf-8 41.2811ms
2025-06-11 08:41:19.817 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:41:19.817 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:41:19.824 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.2282ms
2025-06-11 08:41:19.824 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 6.6373ms
2025-06-11 08:41:23.937 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay/Details/3 - null null
2025-06-11 08:41:23.942 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:23.947 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Details (WebHS)'
2025-06-11 08:41:23.951 +07:00 [INF] Route matched with {action = "Details", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:41:23.979 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-11 08:41:24.004 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [t].[Id0], [t].[AccessFailedCount], [t].[Address0], [t].[Bio], [t].[ConcurrencyStamp], [t].[CreatedAt0], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[IsActive0], [t].[IsHost], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[ProfilePicture], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UpdatedAt0], [t].[UserName], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t0].[HomestayId], [t0].[AmenityId], [t0].[Id], [t0].[CreatedAt], [t0].[Description], [t0].[Icon], [t0].[IsActive], [t0].[Name], [t1].[Id], [t1].[CheckInDate], [t1].[CheckOutDate], [t1].[CreatedAt], [t1].[DiscountAmount], [t1].[FinalAmount], [t1].[HomestayId], [t1].[Notes], [t1].[NumberOfGuests], [t1].[PromotionId], [t1].[ReviewComment], [t1].[ReviewCreatedAt], [t1].[ReviewIsActive], [t1].[ReviewRating], [t1].[ReviewUpdatedAt], [t1].[Status], [t1].[TotalAmount], [t1].[UpdatedAt], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[Address], [t1].[Bio], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[Email], [t1].[EmailConfirmed], [t1].[FirstName], [t1].[IsActive], [t1].[IsHost], [t1].[LastName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UpdatedAt0], [t1].[UserName]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[Address] AS [Address0], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive] AS [IsActive0], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt] AS [UpdatedAt0], [a].[UserName]
    FROM [Homestays] AS [h]
    INNER JOIN [AspNetUsers] AS [a] ON [h].[HostId] = [a].[Id]
    WHERE [h].[Id] = @__id_0 AND [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [h1].[HomestayId], [h1].[AmenityId], [a0].[Id], [a0].[CreatedAt], [a0].[Description], [a0].[Icon], [a0].[IsActive], [a0].[Name]
    FROM [HomestayAmenities] AS [h1]
    INNER JOIN [Amenities] AS [a0] ON [h1].[AmenityId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId], [a1].[Id] AS [Id0], [a1].[AccessFailedCount], [a1].[Address], [a1].[Bio], [a1].[ConcurrencyStamp], [a1].[CreatedAt] AS [CreatedAt0], [a1].[Email], [a1].[EmailConfirmed], [a1].[FirstName], [a1].[IsActive], [a1].[IsHost], [a1].[LastName], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[ProfilePicture], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UpdatedAt] AS [UpdatedAt0], [a1].[UserName]
    FROM [Bookings] AS [b]
    INNER JOIN [AspNetUsers] AS [a1] ON [b].[UserId] = [a1].[Id]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t1] ON [t].[Id] = [t1].[HomestayId]
ORDER BY [t].[Id], [t].[Id0], [h0].[Id], [t0].[HomestayId], [t0].[AmenityId], [t0].[Id], [t1].[Id]
2025-06-11 08:41:24.028 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450), @__id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Bookings] AS [b]
        WHERE [b].[UserId] = @__userId_0 AND [b].[HomestayId] = @__id_1 AND [b].[Status] = 3 AND [b].[ReviewRating] IS NULL) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:24.032 +07:00 [INF] Executing ViewResult, running view Details.
2025-06-11 08:41:24.042 +07:00 [INF] Executed ViewResult - view Details executed in 10.9449ms.
2025-06-11 08:41:24.044 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Details (WebHS) in 92.2238ms
2025-06-11 08:41:24.045 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Details (WebHS)'
2025-06-11 08:41:24.046 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:24.047 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay/Details/3 - 200 null text/html; charset=utf-8 110.5956ms
2025-06-11 08:41:24.050 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:41:24.053 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.4886ms
2025-06-11 08:41:24.053 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:41:24.063 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.3685ms
2025-06-11 08:41:24.106 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Booking/CheckAvailability?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12 - null null
2025-06-11 08:41:24.106 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay/CalculatePrice?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12&promotionCode= - null null
2025-06-11 08:41:24.108 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:24.110 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:24.113 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.CalculatePrice (WebHS)'
2025-06-11 08:41:24.115 +07:00 [INF] Executing endpoint 'WebHS.Controllers.BookingController.CheckAvailability (WebHS)'
2025-06-11 08:41:24.116 +07:00 [INF] Route matched with {action = "CalculatePrice", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CalculatePrice(Int32, System.DateTime, System.DateTime, System.String) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:41:24.118 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Booking/GetBookedDates/3 - null null
2025-06-11 08:41:24.118 +07:00 [INF] Route matched with {action = "CheckAvailability", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckAvailability(Int32, System.DateTime, System.DateTime) on controller WebHS.Controllers.BookingController (WebHS).
2025-06-11 08:41:24.122 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:24.127 +07:00 [INF] Executing endpoint 'WebHS.Controllers.BookingController.GetBookedDates (WebHS)'
2025-06-11 08:41:24.130 +07:00 [INF] Route matched with {action = "GetBookedDates", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedDates(Int32) on controller WebHS.Controllers.BookingController (WebHS).
2025-06-11 08:41:24.134 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__homestayId_0='?' (DbType = Int32), @__checkIn_1='?' (DbType = DateTime2), @__checkOut_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Bookings] AS [b]
        WHERE [b].[HomestayId] = @__homestayId_0 AND [b].[Status] IN (1, 2, 3) AND @__checkIn_1 < [b].[CheckOutDate] AND @__checkOut_2 > [b].[CheckInDate]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:24.138 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-11 08:41:24.138 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:41:24.145 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [h1].[HomestayId], [h1].[AmenityId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[Id] = @__id_0
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN [HomestayAmenities] AS [h1] ON [t].[Id] = [h1].[HomestayId]
ORDER BY [t].[Id], [h0].[Id], [h1].[HomestayId]
2025-06-11 08:41:24.146 +07:00 [INF] Executed action WebHS.Controllers.BookingController.CheckAvailability (WebHS) in 22.0684ms
2025-06-11 08:41:24.149 +07:00 [INF] Executed endpoint 'WebHS.Controllers.BookingController.CheckAvailability (WebHS)'
2025-06-11 08:41:24.150 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:24.151 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Booking/CheckAvailability?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12 - 200 null application/json; charset=utf-8 45.2419ms
2025-06-11 08:41:24.218 +07:00 [ERR] Error retrieving booked dates for homestay 0
System.InvalidOperationException: The LINQ expression 'b => Enumerable.Range(
    start: 0, 
    count: (b.CheckOutDate.Date - b.CheckInDate.Date).Days)
    .AsQueryable()
    .Select(offset => b.CheckInDate.Date.AddDays((double)offset))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessSelectMany(NavigationExpansionExpression source, LambdaExpression collectionSelector, LambdaExpression resultSelector)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WebHS.Services.BookingService.GetBookedDatesAsync(Int32 homestayId) in D:\WebHS\Services\BookingService.cs:line 478
2025-06-11 08:41:24.227 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__homestayId_0='?' (DbType = Int32), @__date_Date_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[CreatedAt], [h].[Date], [h].[HomestayId], [h].[Note], [h].[PricePerNight], [h].[UpdatedAt]
FROM [HomestayPricings] AS [h]
WHERE [h].[HomestayId] = @__homestayId_0 AND CONVERT(date, [h].[Date]) = @__date_Date_1
2025-06-11 08:41:24.252 +07:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:41:24.258 +07:00 [INF] Executed action WebHS.Controllers.BookingController.GetBookedDates (WebHS) in 125.4635ms
2025-06-11 08:41:24.259 +07:00 [INF] Executed endpoint 'WebHS.Controllers.BookingController.GetBookedDates (WebHS)'
2025-06-11 08:41:24.260 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:24.260 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__homestayId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM [Homestays] AS [h]
WHERE [h].[Id] = @__homestayId_0
2025-06-11 08:41:24.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Booking/GetBookedDates/3 - 200 null application/json; charset=utf-8 143.2627ms
2025-06-11 08:41:24.268 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__homestayId_0='?' (DbType = Int32), @__date_Date_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[CreatedAt], [h].[Date], [h].[HomestayId], [h].[Note], [h].[PricePerNight], [h].[UpdatedAt]
FROM [HomestayPricings] AS [h]
WHERE [h].[HomestayId] = @__homestayId_0 AND CONVERT(date, [h].[Date]) = @__date_Date_1
2025-06-11 08:41:24.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__homestayId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM [Homestays] AS [h]
WHERE [h].[Id] = @__homestayId_0
2025-06-11 08:41:24.274 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType22`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:41:24.280 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.CalculatePrice (WebHS) in 161.6475ms
2025-06-11 08:41:24.281 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.CalculatePrice (WebHS)'
2025-06-11 08:41:24.282 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:24.283 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay/CalculatePrice?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12&promotionCode= - 200 null application/json; charset=utf-8 177.6462ms
2025-06-11 08:41:35.011 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay/CalculatePrice?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12&promotionCode= - null null
2025-06-11 08:41:35.011 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Booking/CheckAvailability?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12 - null null
2025-06-11 08:41:35.014 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:35.016 +07:00 [INF] No cached response available for this request.
2025-06-11 08:41:35.018 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.CalculatePrice (WebHS)'
2025-06-11 08:41:35.019 +07:00 [INF] Executing endpoint 'WebHS.Controllers.BookingController.CheckAvailability (WebHS)'
2025-06-11 08:41:35.019 +07:00 [INF] Route matched with {action = "CalculatePrice", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CalculatePrice(Int32, System.DateTime, System.DateTime, System.String) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:41:35.020 +07:00 [INF] Route matched with {action = "CheckAvailability", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckAvailability(Int32, System.DateTime, System.DateTime) on controller WebHS.Controllers.BookingController (WebHS).
2025-06-11 08:41:35.034 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [h1].[HomestayId], [h1].[AmenityId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[Id] = @__id_0
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN [HomestayAmenities] AS [h1] ON [t].[Id] = [h1].[HomestayId]
ORDER BY [t].[Id], [h0].[Id], [h1].[HomestayId]
2025-06-11 08:41:35.044 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__homestayId_0='?' (DbType = Int32), @__date_Date_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[CreatedAt], [h].[Date], [h].[HomestayId], [h].[Note], [h].[PricePerNight], [h].[UpdatedAt]
FROM [HomestayPricings] AS [h]
WHERE [h].[HomestayId] = @__homestayId_0 AND CONVERT(date, [h].[Date]) = @__date_Date_1
2025-06-11 08:41:35.045 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__homestayId_0='?' (DbType = Int32), @__checkIn_1='?' (DbType = DateTime2), @__checkOut_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Bookings] AS [b]
        WHERE [b].[HomestayId] = @__homestayId_0 AND [b].[Status] IN (1, 2, 3) AND @__checkIn_1 < [b].[CheckOutDate] AND @__checkOut_2 > [b].[CheckInDate]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:41:35.048 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType12`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:41:35.048 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__homestayId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM [Homestays] AS [h]
WHERE [h].[Id] = @__homestayId_0
2025-06-11 08:41:35.049 +07:00 [INF] Executed action WebHS.Controllers.BookingController.CheckAvailability (WebHS) in 25.0629ms
2025-06-11 08:41:35.053 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__homestayId_0='?' (DbType = Int32), @__date_Date_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[CreatedAt], [h].[Date], [h].[HomestayId], [h].[Note], [h].[PricePerNight], [h].[UpdatedAt]
FROM [HomestayPricings] AS [h]
WHERE [h].[HomestayId] = @__homestayId_0 AND CONVERT(date, [h].[Date]) = @__date_Date_1
2025-06-11 08:41:35.053 +07:00 [INF] Executed endpoint 'WebHS.Controllers.BookingController.CheckAvailability (WebHS)'
2025-06-11 08:41:35.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__homestayId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM [Homestays] AS [h]
WHERE [h].[Id] = @__homestayId_0
2025-06-11 08:41:35.056 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:35.058 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType22`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:41:35.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Booking/CheckAvailability?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12 - 200 null application/json; charset=utf-8 47.7215ms
2025-06-11 08:41:35.059 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.CalculatePrice (WebHS) in 37.4333ms
2025-06-11 08:41:35.063 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.CalculatePrice (WebHS)'
2025-06-11 08:41:35.064 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:41:35.065 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay/CalculatePrice?homestayId=3&checkIn=2025-06-11&checkOut=2025-06-12&promotionCode= - 200 null application/json; charset=utf-8 54.0622ms
2025-06-11 08:42:01.180 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Booking/MyBookings - null null
2025-06-11 08:42:01.184 +07:00 [INF] No cached response available for this request.
2025-06-11 08:42:01.189 +07:00 [INF] Executing endpoint 'WebHS.Controllers.BookingController.MyBookings (WebHS)'
2025-06-11 08:42:01.193 +07:00 [INF] Route matched with {action = "MyBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyBookings(System.String, Int32) on controller WebHS.Controllers.BookingController (WebHS).
2025-06-11 08:42:01.225 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE [b].[UserId] = @__userId_0
2025-06-11 08:42:01.254 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-11 08:42:01.282 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[NumberOfGuests], [t].[FinalAmount], [t].[Status], [t].[TotalAmount], [t].[DiscountAmount], [t].[CreatedAt], [t].[HomestayId], [t].[Notes], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[UpdatedAt], [t].[UserId], [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [a].[Id], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [h1].[Id], [h1].[Caption], [h1].[CreatedAt], [h1].[HomestayId], [h1].[ImageUrl], [h1].[IsPrimary], [h1].[Order], CASE
    WHEN [t].[Status] = 3 AND [t].[ReviewRating] IS NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN [t].[Status] IN (0, 1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [h2].[Id], [h2].[Caption], [h2].[CreatedAt], [h2].[HomestayId], [h2].[ImageUrl], [h2].[IsPrimary], [h2].[Order]
FROM (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[UserId] = @__userId_0
    ORDER BY [b].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Homestays] AS [h] ON [t].[HomestayId] = [h].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [h].[HostId] = [a].[Id]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN [HomestayImages] AS [h1] ON [h].[Id] = [h1].[HomestayId]
LEFT JOIN [HomestayImages] AS [h2] ON [h].[Id] = [h2].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h].[Id], [a].[Id], [h0].[Id], [h1].[Id]
2025-06-11 08:42:01.320 +07:00 [INF] Executing ViewResult, running view MyBookings.
2025-06-11 08:42:01.348 +07:00 [INF] Executed ViewResult - view MyBookings executed in 27.8809ms.
2025-06-11 08:42:01.350 +07:00 [INF] Executed action WebHS.Controllers.BookingController.MyBookings (WebHS) in 155.7939ms
2025-06-11 08:42:01.351 +07:00 [INF] Executed endpoint 'WebHS.Controllers.BookingController.MyBookings (WebHS)'
2025-06-11 08:42:01.352 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:42:01.353 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Booking/MyBookings - 200 null text/html; charset=utf-8 173.0733ms
2025-06-11 08:42:01.355 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:42:01.356 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:42:01.363 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 7.4559ms
2025-06-11 08:42:01.368 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.6935ms
2025-06-11 08:42:07.647 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout - application/x-www-form-urlencoded 225
2025-06-11 08:42:07.652 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:42:07.652 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:42:07.654 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Logout (WebHS)'
2025-06-11 08:42:07.657 +07:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:42:07.661 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-06-11 08:42:07.663 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-06-11 08:42:07.663 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-06-11 08:42:07.664 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-06-11 08:42:07.665 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Logout (WebHS) in 5.8699ms
2025-06-11 08:42:07.666 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Logout (WebHS)'
2025-06-11 08:42:07.667 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Account/Logout - 302 0 null 19.6714ms
2025-06-11 08:42:07.670 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:42:07.673 +07:00 [INF] No cached response available for this request.
2025-06-11 08:42:07.674 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:42:07.675 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:42:07.678 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:42:07.682 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:42:07.684 +07:00 [INF] Executed ViewResult - view Index executed in 1.585ms.
2025-06-11 08:42:07.685 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 8.3448ms
2025-06-11 08:42:07.686 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:42:07.687 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:42:07.688 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 17.8519ms
2025-06-11 08:42:07.691 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:42:07.691 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:42:07.693 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.1167ms
2025-06-11 08:42:07.698 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1793ms
2025-06-11 08:42:08.946 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login - null null
2025-06-11 08:42:08.950 +07:00 [INF] No cached response available for this request.
2025-06-11 08:42:08.951 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:42:08.951 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:42:08.953 +07:00 [INF] Executing ViewResult, running view Login.
2025-06-11 08:42:08.956 +07:00 [INF] Executed ViewResult - view Login executed in 2.82ms.
2025-06-11 08:42:08.957 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 4.3959ms
2025-06-11 08:42:08.958 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:42:08.959 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:42:08.960 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Account/Login - 200 null text/html; charset=utf-8 13.6573ms
2025-06-11 08:42:08.963 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:42:08.963 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:42:08.972 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 8.581ms
2025-06-11 08:42:08.973 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9611ms
2025-06-11 08:42:10.748 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login - application/x-www-form-urlencoded 250
2025-06-11 08:42:10.752 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:42:10.752 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:42:10.754 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:42:10.755 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebHS.ViewModels.LoginViewModel, System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:42:10.762 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:42:10.767 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-06-11 08:42:10.830 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-11 08:42:10.838 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:42:10.841 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:42:10.844 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-11 08:42:10.846 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-11 08:42:10.847 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-06-11 08:42:10.848 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 90.4462ms
2025-06-11 08:42:10.849 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:42:10.850 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Account/Login - 302 0 null 101.7956ms
2025-06-11 08:42:10.853 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:42:10.856 +07:00 [INF] No cached response available for this request.
2025-06-11 08:42:10.857 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:42:10.858 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:42:10.861 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:42:10.865 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:42:10.867 +07:00 [INF] Executed ViewResult - view Index executed in 2.6336ms.
2025-06-11 08:42:10.868 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 9.0962ms
2025-06-11 08:42:10.869 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:42:10.871 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:42:10.872 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 19.1405ms
2025-06-11 08:42:10.874 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:42:10.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:42:10.880 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.6287ms
2025-06-11 08:42:10.880 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.6199ms
2025-06-11 08:42:11.933 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay - null null
2025-06-11 08:42:11.938 +07:00 [INF] No cached response available for this request.
2025-06-11 08:42:11.940 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:42:11.942 +07:00 [INF] Route matched with {action = "Index", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(WebHS.ViewModels.HomestaySearchViewModel) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:42:11.948 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Homestays] AS [h]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
2025-06-11 08:42:11.963 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t0].[Id], [t0].[CheckInDate], [t0].[CheckOutDate], [t0].[CreatedAt], [t0].[DiscountAmount], [t0].[FinalAmount], [t0].[HomestayId], [t0].[Notes], [t0].[NumberOfGuests], [t0].[PromotionId], [t0].[ReviewComment], [t0].[ReviewCreatedAt], [t0].[ReviewIsActive], [t0].[ReviewRating], [t0].[ReviewUpdatedAt], [t0].[Status], [t0].[TotalAmount], [t0].[UpdatedAt], [t0].[UserId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
    ORDER BY [h].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t0] ON [t].[Id] = [t0].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h0].[Id]
2025-06-11 08:42:11.969 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:42:11.972 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:42:11.976 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:42:11.978 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:42:11.982 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreatedAt], [a].[Description], [a].[Icon], [a].[IsActive], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit)
ORDER BY [a].[Name]
2025-06-11 08:42:11.984 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:42:11.986 +07:00 [INF] Executed ViewResult - view Index executed in 2.4753ms.
2025-06-11 08:42:11.988 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Index (WebHS) in 43.7074ms
2025-06-11 08:42:11.989 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:42:11.990 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:42:11.992 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay - 200 null text/html; charset=utf-8 58.8007ms
2025-06-11 08:42:11.994 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:42:11.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:42:12.000 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.9145ms
2025-06-11 08:42:12.001 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.9442ms
2025-06-11 08:42:13.081 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Host/Dashboard - null null
2025-06-11 08:42:13.085 +07:00 [INF] No cached response available for this request.
2025-06-11 08:42:13.088 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HostController.Dashboard (WebHS)'
2025-06-11 08:42:13.091 +07:00 [INF] Route matched with {action = "Dashboard", controller = "Host"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Dashboard() on controller WebHS.Controllers.HostController (WebHS).
2025-06-11 08:42:13.102 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-11 08:42:13.112 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN [Bookings] AS [b] ON [h].[Id] = [b].[HomestayId]
WHERE [h].[HostId] = @__hostId_0
ORDER BY [h].[CreatedAt] DESC, [h].[Id], [h0].[Id]
2025-06-11 08:42:13.121 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__hostId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Homestays] AS [h] ON [b].[HomestayId] = [h].[Id]
WHERE [h].[HostId] = @__hostId_0
2025-06-11 08:42:13.136 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-11 08:42:13.157 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__hostId_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[NumberOfGuests], [t].[FinalAmount], [t].[Status], [t].[TotalAmount], [t].[DiscountAmount], [t].[CreatedAt], [t].[HomestayId], [t].[Notes], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[UpdatedAt], [t].[UserId], [t].[Id0], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt0], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt0], [t].[Ward], [t].[ZipCode], [a].[Id], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [h1].[Id], [h1].[Caption], [h1].[CreatedAt], [h1].[HomestayId], [h1].[ImageUrl], [h1].[IsPrimary], [h1].[Order], COALESCE([a].[Email], N''), COALESCE([a].[PhoneNumber], N''), CASE
    WHEN [t].[Status] = 0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [h2].[Id], [h2].[Caption], [h2].[CreatedAt], [h2].[HomestayId], [h2].[ImageUrl], [h2].[IsPrimary], [h2].[Order]
FROM (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId], [h].[Id] AS [Id0], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt] AS [CreatedAt0], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt] AS [UpdatedAt0], [h].[Ward], [h].[ZipCode]
    FROM [Bookings] AS [b]
    INNER JOIN [Homestays] AS [h] ON [b].[HomestayId] = [h].[Id]
    WHERE [h].[HostId] = @__hostId_0
    ORDER BY [b].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id0] = [h0].[HomestayId]
LEFT JOIN [HomestayImages] AS [h1] ON [t].[Id0] = [h1].[HomestayId]
LEFT JOIN [HomestayImages] AS [h2] ON [t].[Id0] = [h2].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [t].[Id0], [a].[Id], [h0].[Id], [h1].[Id]
2025-06-11 08:42:13.171 +07:00 [INF] Executing ViewResult, running view Dashboard.
2025-06-11 08:42:13.185 +07:00 [INF] Executed ViewResult - view Dashboard executed in 13.7705ms.
2025-06-11 08:42:13.187 +07:00 [INF] Executed action WebHS.Controllers.HostController.Dashboard (WebHS) in 94.2589ms
2025-06-11 08:42:13.188 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HostController.Dashboard (WebHS)'
2025-06-11 08:42:13.189 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:42:13.190 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Host/Dashboard - 200 null text/html; charset=utf-8 108.4886ms
2025-06-11 08:42:13.192 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:42:13.193 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/uploads/homestays/8c5cfe91-3594-42a8-97db-0cc58579245c.png - null null
2025-06-11 08:42:13.195 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.6627ms
2025-06-11 08:42:13.197 +07:00 [INF] No cached response available for this request.
2025-06-11 08:42:13.200 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:42:13.201 +07:00 [INF] The file /uploads/homestays/8c5cfe91-3594-42a8-97db-0cc58579245c.png was not modified
2025-06-11 08:42:13.204 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:42:13.206 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/uploads/homestays/8c5cfe91-3594-42a8-97db-0cc58579245c.png - 304 null image/png 12.7017ms
2025-06-11 08:42:13.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.0373ms
2025-06-11 08:44:35.519 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout - application/x-www-form-urlencoded 225
2025-06-11 08:44:35.529 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:44:35.530 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:44:35.532 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Logout (WebHS)'
2025-06-11 08:44:35.533 +07:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:44:35.535 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-06-11 08:44:35.536 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-06-11 08:44:35.537 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-06-11 08:44:35.537 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-06-11 08:44:35.538 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Logout (WebHS) in 3.6019ms
2025-06-11 08:44:35.539 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Logout (WebHS)'
2025-06-11 08:44:35.540 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Account/Logout - 302 0 null 20.7212ms
2025-06-11 08:44:35.544 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:44:35.548 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:35.549 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:44:35.550 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:44:35.555 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:44:35.557 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:44:35.560 +07:00 [INF] Executed ViewResult - view Index executed in 2.8881ms.
2025-06-11 08:44:35.562 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 10.7011ms
2025-06-11 08:44:35.563 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:44:35.564 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:35.565 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 20.9742ms
2025-06-11 08:44:35.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:35.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:44:35.571 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.4532ms
2025-06-11 08:44:35.583 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.0045ms
2025-06-11 08:44:36.553 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login - null null
2025-06-11 08:44:36.557 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:36.557 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:44:36.559 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:44:36.560 +07:00 [INF] Executing ViewResult, running view Login.
2025-06-11 08:44:36.562 +07:00 [INF] Executed ViewResult - view Login executed in 2.055ms.
2025-06-11 08:44:36.564 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 3.5397ms
2025-06-11 08:44:36.565 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:44:36.566 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:36.566 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Account/Login - 200 null text/html; charset=utf-8 13.6884ms
2025-06-11 08:44:36.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:36.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:44:36.571 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.0216ms
2025-06-11 08:44:36.578 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.4322ms
2025-06-11 08:44:38.397 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login - application/x-www-form-urlencoded 252
2025-06-11 08:44:38.401 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:44:38.402 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:44:38.402 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:44:38.403 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebHS.ViewModels.LoginViewModel, System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:44:38.409 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:44:38.413 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-06-11 08:44:38.475 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-11 08:44:38.479 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:38.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:44:38.484 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-11 08:44:38.486 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-11 08:44:38.487 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-06-11 08:44:38.488 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 83.7318ms
2025-06-11 08:44:38.489 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:44:38.491 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Account/Login - 302 0 null 93.8703ms
2025-06-11 08:44:38.494 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:44:38.497 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:38.498 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:44:38.499 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:44:38.502 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:44:38.505 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:44:38.509 +07:00 [INF] Executed ViewResult - view Index executed in 3.3446ms.
2025-06-11 08:44:38.510 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 9.7631ms
2025-06-11 08:44:38.511 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:44:38.512 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:38.513 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 18.7692ms
2025-06-11 08:44:38.515 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:44:38.516 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:38.521 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.9117ms
2025-06-11 08:44:38.522 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.9776ms
2025-06-11 08:44:39.368 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay - null null
2025-06-11 08:44:39.371 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:39.373 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:44:39.373 +07:00 [INF] Route matched with {action = "Index", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(WebHS.ViewModels.HomestaySearchViewModel) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:44:39.379 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Homestays] AS [h]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
2025-06-11 08:44:39.390 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t0].[Id], [t0].[CheckInDate], [t0].[CheckOutDate], [t0].[CreatedAt], [t0].[DiscountAmount], [t0].[FinalAmount], [t0].[HomestayId], [t0].[Notes], [t0].[NumberOfGuests], [t0].[PromotionId], [t0].[ReviewComment], [t0].[ReviewCreatedAt], [t0].[ReviewIsActive], [t0].[ReviewRating], [t0].[ReviewUpdatedAt], [t0].[Status], [t0].[TotalAmount], [t0].[UpdatedAt], [t0].[UserId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
    ORDER BY [h].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t0] ON [t].[Id] = [t0].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h0].[Id]
2025-06-11 08:44:39.395 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:44:39.398 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:44:39.400 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:44:39.403 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:44:39.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreatedAt], [a].[Description], [a].[Icon], [a].[IsActive], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit)
ORDER BY [a].[Name]
2025-06-11 08:44:39.409 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:44:39.412 +07:00 [INF] Executed ViewResult - view Index executed in 2.3636ms.
2025-06-11 08:44:39.413 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Index (WebHS) in 37.5566ms
2025-06-11 08:44:39.414 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:44:39.415 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:39.416 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay - 200 null text/html; charset=utf-8 48.0325ms
2025-06-11 08:44:39.419 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:39.420 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:44:39.423 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 3.0206ms
2025-06-11 08:44:39.429 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.3594ms
2025-06-11 08:44:41.015 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/Users - null null
2025-06-11 08:44:41.019 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:41.020 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:44:41.024 +07:00 [INF] Route matched with {action = "Users", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Users(System.String, Int32, System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:44:41.032 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-06-11 08:44:41.038 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Email]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-11 08:44:41.042 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.044 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.047 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.049 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.051 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.053 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.056 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.065 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:41.069 +07:00 [INF] Executing ViewResult, running view Users.
2025-06-11 08:44:41.095 +07:00 [INF] Executed ViewResult - view Users executed in 26.1266ms.
2025-06-11 08:44:41.098 +07:00 [INF] Executed action WebHS.Controllers.AdminController.Users (WebHS) in 72.0956ms
2025-06-11 08:44:41.100 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:44:41.102 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:41.103 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/Users - 200 null text/html; charset=utf-8 87.4473ms
2025-06-11 08:44:41.104 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:44:41.107 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:41.114 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.6562ms
2025-06-11 08:44:41.114 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 7.1366ms
2025-06-11 08:44:44.919 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/UserDetail/c1d32589-c80e-443c-9d6a-b13513b418ec - null null
2025-06-11 08:44:44.923 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:44.926 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.UserDetail (WebHS)'
2025-06-11 08:44:44.930 +07:00 [INF] Route matched with {action = "UserDetail", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserDetail(System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:44:44.944 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-06-11 08:44:44.947 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:44.952 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM [Homestays] AS [h]
WHERE [h].[HostId] = @__id_0
2025-06-11 08:44:44.961 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId], [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM (
    SELECT TOP(@__p_1) [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[UserId] = @__id_0
    ORDER BY [b].[CreatedAt] DESC
) AS [t]
INNER JOIN [Homestays] AS [h] ON [t].[HomestayId] = [h].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-06-11 08:44:44.967 +07:00 [INF] Executing ViewResult, running view UserDetail.
2025-06-11 08:44:44.989 +07:00 [INF] Executed ViewResult - view UserDetail executed in 22.1031ms.
2025-06-11 08:44:44.990 +07:00 [INF] Executed action WebHS.Controllers.AdminController.UserDetail (WebHS) in 59.5156ms
2025-06-11 08:44:44.992 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.UserDetail (WebHS)'
2025-06-11 08:44:44.993 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:44.994 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/UserDetail/c1d32589-c80e-443c-9d6a-b13513b418ec - 200 null text/html; charset=utf-8 74.9986ms
2025-06-11 08:44:44.997 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:44:44.998 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:45.005 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.549ms
2025-06-11 08:44:45.005 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 7.6109ms
2025-06-11 08:44:48.039 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/Users - null null
2025-06-11 08:44:48.043 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:48.044 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:44:48.045 +07:00 [INF] Route matched with {action = "Users", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Users(System.String, Int32, System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:44:48.047 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-06-11 08:44:48.051 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Email]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-11 08:44:48.053 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.056 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.058 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.061 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.063 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.065 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.067 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.070 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:48.072 +07:00 [INF] Executing ViewResult, running view Users.
2025-06-11 08:44:48.073 +07:00 [INF] Executed ViewResult - view Users executed in 1.7312ms.
2025-06-11 08:44:48.074 +07:00 [INF] Executed action WebHS.Controllers.AdminController.Users (WebHS) in 28.2861ms
2025-06-11 08:44:48.076 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:44:48.076 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:48.077 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/Users - 200 null text/html; charset=utf-8 38.1523ms
2025-06-11 08:44:48.080 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:48.083 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.2717ms
2025-06-11 08:44:52.816 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/UserDetail/6a64425a-4abd-447a-8868-e574987d2f5a - null null
2025-06-11 08:44:52.820 +07:00 [INF] No cached response available for this request.
2025-06-11 08:44:52.822 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.UserDetail (WebHS)'
2025-06-11 08:44:52.823 +07:00 [INF] Route matched with {action = "UserDetail", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserDetail(System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:44:52.829 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-06-11 08:44:52.833 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:44:52.839 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM [Homestays] AS [h]
WHERE [h].[HostId] = @__id_0
2025-06-11 08:44:52.846 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId], [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
FROM (
    SELECT TOP(@__p_1) [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[UserId] = @__id_0
    ORDER BY [b].[CreatedAt] DESC
) AS [t]
INNER JOIN [Homestays] AS [h] ON [t].[HomestayId] = [h].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-06-11 08:44:52.848 +07:00 [INF] Executing ViewResult, running view UserDetail.
2025-06-11 08:44:52.851 +07:00 [INF] Executed ViewResult - view UserDetail executed in 2.4144ms.
2025-06-11 08:44:52.852 +07:00 [INF] Executed action WebHS.Controllers.AdminController.UserDetail (WebHS) in 27.0013ms
2025-06-11 08:44:52.854 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.UserDetail (WebHS)'
2025-06-11 08:44:52.855 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:44:52.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/UserDetail/6a64425a-4abd-447a-8868-e574987d2f5a - 200 null text/html; charset=utf-8 40.7891ms
2025-06-11 08:44:52.860 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:44:52.860 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:44:52.868 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.4161ms
2025-06-11 08:44:52.868 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 7.5562ms
2025-06-11 08:45:11.855 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/Users - null null
2025-06-11 08:45:11.859 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:11.861 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:45:11.862 +07:00 [INF] Route matched with {action = "Users", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Users(System.String, Int32, System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:45:11.873 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-06-11 08:45:11.876 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Email]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-11 08:45:11.879 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.882 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.885 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.887 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.889 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.894 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.896 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:11.899 +07:00 [INF] Executing ViewResult, running view Users.
2025-06-11 08:45:11.901 +07:00 [INF] Executed ViewResult - view Users executed in 1.9299ms.
2025-06-11 08:45:11.902 +07:00 [INF] Executed action WebHS.Controllers.AdminController.Users (WebHS) in 38.4186ms
2025-06-11 08:45:11.903 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:45:11.904 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:11.904 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/Users - 200 null text/html; charset=utf-8 48.9731ms
2025-06-11 08:45:11.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:11.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:11.912 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.4852ms
2025-06-11 08:45:11.913 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.5162ms
2025-06-11 08:45:16.600 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay - null null
2025-06-11 08:45:16.604 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:16.605 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:45:16.606 +07:00 [INF] Route matched with {action = "Index", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(WebHS.ViewModels.HomestaySearchViewModel) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:45:16.611 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Homestays] AS [h]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
2025-06-11 08:45:16.622 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t0].[Id], [t0].[CheckInDate], [t0].[CheckOutDate], [t0].[CreatedAt], [t0].[DiscountAmount], [t0].[FinalAmount], [t0].[HomestayId], [t0].[Notes], [t0].[NumberOfGuests], [t0].[PromotionId], [t0].[ReviewComment], [t0].[ReviewCreatedAt], [t0].[ReviewIsActive], [t0].[ReviewRating], [t0].[ReviewUpdatedAt], [t0].[Status], [t0].[TotalAmount], [t0].[UpdatedAt], [t0].[UserId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
    ORDER BY [h].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t0] ON [t].[Id] = [t0].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h0].[Id]
2025-06-11 08:45:16.626 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:16.628 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:16.631 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:16.634 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:16.637 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreatedAt], [a].[Description], [a].[Icon], [a].[IsActive], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit)
ORDER BY [a].[Name]
2025-06-11 08:45:16.639 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:45:16.641 +07:00 [INF] Executed ViewResult - view Index executed in 1.7364ms.
2025-06-11 08:45:16.642 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Index (WebHS) in 34.5282ms
2025-06-11 08:45:16.643 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:45:16.644 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:16.645 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay - 200 null text/html; charset=utf-8 45.0602ms
2025-06-11 08:45:16.649 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:16.649 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:16.652 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.4147ms
2025-06-11 08:45:16.658 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.3068ms
2025-06-11 08:45:18.131 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/Homestays - null null
2025-06-11 08:45:18.135 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:18.136 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.Homestays (WebHS)'
2025-06-11 08:45:18.139 +07:00 [INF] Route matched with {action = "Homestays", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Homestays(System.String, Int32, System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:45:18.144 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Homestays] AS [h]
2025-06-11 08:45:18.158 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    ORDER BY [h].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[HostId] = [a].[Id]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [a].[Id]
2025-06-11 08:45:18.163 +07:00 [INF] Executing ViewResult, running view Homestays.
2025-06-11 08:45:18.181 +07:00 [INF] Executed ViewResult - view Homestays executed in 19.0363ms.
2025-06-11 08:45:18.183 +07:00 [INF] Executed action WebHS.Controllers.AdminController.Homestays (WebHS) in 42.771ms
2025-06-11 08:45:18.184 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.Homestays (WebHS)'
2025-06-11 08:45:18.185 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:18.186 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/Homestays - 200 null text/html; charset=utf-8 54.772ms
2025-06-11 08:45:18.188 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:18.188 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:18.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.0884ms
2025-06-11 08:45:18.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.2808ms
2025-06-11 08:45:23.369 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/Bookings - null null
2025-06-11 08:45:23.373 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:23.374 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.Bookings (WebHS)'
2025-06-11 08:45:23.378 +07:00 [INF] Route matched with {action = "Bookings", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Bookings(System.String, Int32, System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:45:23.385 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
2025-06-11 08:45:23.401 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Bio], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[IsHost], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName]
FROM (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
INNER JOIN [Homestays] AS [h] ON [t].[HomestayId] = [h].[Id]
INNER JOIN [AspNetUsers] AS [a0] ON [h].[HostId] = [a0].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-06-11 08:45:23.405 +07:00 [INF] Executing ViewResult, running view Bookings.
2025-06-11 08:45:23.505 +07:00 [INF] Executed ViewResult - view Bookings executed in 99.6055ms.
2025-06-11 08:45:23.507 +07:00 [INF] Executed action WebHS.Controllers.AdminController.Bookings (WebHS) in 127.5066ms
2025-06-11 08:45:23.508 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.Bookings (WebHS)'
2025-06-11 08:45:23.510 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:23.511 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/Bookings - 200 null text/html; charset=utf-8 142.0696ms
2025-06-11 08:45:23.512 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:23.514 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:23.519 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1145ms
2025-06-11 08:45:23.520 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.725ms
2025-06-11 08:45:26.028 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/About - null null
2025-06-11 08:45:26.032 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:26.033 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.About (WebHS)'
2025-06-11 08:45:26.035 +07:00 [INF] Route matched with {action = "About", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult About() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:45:26.037 +07:00 [INF] Executing ViewResult, running view About.
2025-06-11 08:45:26.043 +07:00 [INF] Executed ViewResult - view About executed in 6.4332ms.
2025-06-11 08:45:26.045 +07:00 [INF] Executed action WebHS.Controllers.HomeController.About (WebHS) in 7.9698ms
2025-06-11 08:45:26.046 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.About (WebHS)'
2025-06-11 08:45:26.048 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:26.048 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Home/About - 200 null text/html; charset=utf-8 20.2099ms
2025-06-11 08:45:26.055 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:26.056 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:26.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.7555ms
2025-06-11 08:45:26.065 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.0661ms
2025-06-11 08:45:28.197 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/Reports - null null
2025-06-11 08:45:28.201 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:28.202 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.Reports (WebHS)'
2025-06-11 08:45:28.205 +07:00 [INF] Route matched with {action = "Reports", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Reports() on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:45:28.215 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__thisMonth_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE [b].[CreatedAt] >= @__thisMonth_0
2025-06-11 08:45:28.219 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lastMonth_0='?' (DbType = DateTime2), @__thisMonth_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE [b].[CreatedAt] >= @__lastMonth_0 AND [b].[CreatedAt] < @__thisMonth_1
2025-06-11 08:45:28.229 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__thisMonth_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([b].[FinalAmount]), 0.0)
FROM [Bookings] AS [b]
WHERE [b].[Status] = 3 AND [b].[CreatedAt] >= @__thisMonth_0
2025-06-11 08:45:28.234 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lastMonth_0='?' (DbType = DateTime2), @__thisMonth_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([b].[FinalAmount]), 0.0)
FROM [Bookings] AS [b]
WHERE [b].[Status] = 3 AND [b].[CreatedAt] >= @__lastMonth_0 AND [b].[CreatedAt] < @__thisMonth_1
2025-06-11 08:45:28.245 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [h].[Name], (
    SELECT COUNT(*)
    FROM [Bookings] AS [b0]
    WHERE [h].[Id] = [b0].[HomestayId]) AS [BookingCount]
FROM [Homestays] AS [h]
ORDER BY (
    SELECT COUNT(*)
    FROM [Bookings] AS [b]
    WHERE [h].[Id] = [b].[HomestayId]) DESC
2025-06-11 08:45:28.263 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [a].[FirstName], [a].[LastName], (
    SELECT COALESCE(SUM([b0].[FinalAmount]), 0.0)
    FROM [Homestays] AS [h1]
    INNER JOIN [Bookings] AS [b0] ON [h1].[Id] = [b0].[HomestayId]
    WHERE [a].[Id] = [h1].[HostId] AND [b0].[Status] = 3)
FROM [AspNetUsers] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [Homestays] AS [h]
    WHERE [a].[Id] = [h].[HostId])
ORDER BY (
    SELECT COALESCE(SUM([b].[FinalAmount]), 0.0)
    FROM [Homestays] AS [h0]
    INNER JOIN [Bookings] AS [b] ON [h0].[Id] = [b].[HomestayId]
    WHERE [a].[Id] = [h0].[HostId] AND [b].[Status] = 3) DESC
2025-06-11 08:45:28.266 +07:00 [INF] Executing ViewResult, running view Reports.
2025-06-11 08:45:28.285 +07:00 [INF] Executed ViewResult - view Reports executed in 19.1279ms.
2025-06-11 08:45:28.288 +07:00 [INF] Executed action WebHS.Controllers.AdminController.Reports (WebHS) in 81.172ms
2025-06-11 08:45:28.290 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.Reports (WebHS)'
2025-06-11 08:45:28.291 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:28.292 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/Reports - 200 null text/html; charset=utf-8 94.8152ms
2025-06-11 08:45:28.292 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:28.292 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:28.296 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 4.1994ms
2025-06-11 08:45:28.302 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.3399ms
2025-06-11 08:45:34.521 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Admin/Users - null null
2025-06-11 08:45:34.525 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:34.526 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:45:34.527 +07:00 [INF] Route matched with {action = "Users", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Users(System.String, Int32, System.String) on controller WebHS.Controllers.AdminController (WebHS).
2025-06-11 08:45:34.530 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-06-11 08:45:34.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Email]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-11 08:45:34.536 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.539 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.542 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.544 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.547 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.549 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.551 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.553 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:34.555 +07:00 [INF] Executing ViewResult, running view Users.
2025-06-11 08:45:34.557 +07:00 [INF] Executed ViewResult - view Users executed in 2.0075ms.
2025-06-11 08:45:34.559 +07:00 [INF] Executed action WebHS.Controllers.AdminController.Users (WebHS) in 30.1489ms
2025-06-11 08:45:34.560 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AdminController.Users (WebHS)'
2025-06-11 08:45:34.561 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:34.562 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Admin/Users - 200 null text/html; charset=utf-8 41.2358ms
2025-06-11 08:45:34.566 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:34.566 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:34.568 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.3731ms
2025-06-11 08:45:34.575 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8347ms
2025-06-11 08:45:42.073 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay - null null
2025-06-11 08:45:42.077 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:42.078 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:45:42.079 +07:00 [INF] Route matched with {action = "Index", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(WebHS.ViewModels.HomestaySearchViewModel) on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:45:42.082 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Homestays] AS [h]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
2025-06-11 08:45:42.086 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchModel_Guests_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt], [t].[Ward], [t].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t0].[Id], [t0].[CheckInDate], [t0].[CheckOutDate], [t0].[CreatedAt], [t0].[DiscountAmount], [t0].[FinalAmount], [t0].[HomestayId], [t0].[Notes], [t0].[NumberOfGuests], [t0].[PromotionId], [t0].[ReviewComment], [t0].[ReviewCreatedAt], [t0].[ReviewIsActive], [t0].[ReviewRating], [t0].[ReviewUpdatedAt], [t0].[Status], [t0].[TotalAmount], [t0].[UpdatedAt], [t0].[UserId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode]
    FROM [Homestays] AS [h]
    WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit) AND [h].[MaxGuests] >= @__searchModel_Guests_0
    ORDER BY [h].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t0] ON [t].[Id] = [t0].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h0].[Id]
2025-06-11 08:45:42.090 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:42.093 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:42.095 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:42.097 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__h_Id_0='?' (DbType = Int32), @__8__locals1_now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[HomestayId] = @__h_Id_0 AND [b].[Status] IN (1, 2) AND [b].[CheckOutDate] > @__8__locals1_now_1
ORDER BY [b].[CheckInDate]
2025-06-11 08:45:42.099 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreatedAt], [a].[Description], [a].[Icon], [a].[IsActive], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit)
ORDER BY [a].[Name]
2025-06-11 08:45:42.101 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:45:42.105 +07:00 [INF] Executed ViewResult - view Index executed in 4.013ms.
2025-06-11 08:45:42.106 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Index (WebHS) in 26.0747ms
2025-06-11 08:45:42.108 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Index (WebHS)'
2025-06-11 08:45:42.108 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:42.109 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay - 200 null text/html; charset=utf-8 36.2753ms
2025-06-11 08:45:42.113 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:42.113 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:42.115 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.0022ms
2025-06-11 08:45:42.120 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.4003ms
2025-06-11 08:45:47.881 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Booking/MyBookings - null null
2025-06-11 08:45:47.884 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:47.886 +07:00 [INF] Executing endpoint 'WebHS.Controllers.BookingController.MyBookings (WebHS)'
2025-06-11 08:45:47.887 +07:00 [INF] Route matched with {action = "MyBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyBookings(System.String, Int32) on controller WebHS.Controllers.BookingController (WebHS).
2025-06-11 08:45:47.891 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE [b].[UserId] = @__userId_0
2025-06-11 08:45:47.903 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[NumberOfGuests], [t].[FinalAmount], [t].[Status], [t].[TotalAmount], [t].[DiscountAmount], [t].[CreatedAt], [t].[HomestayId], [t].[Notes], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[UpdatedAt], [t].[UserId], [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [a].[Id], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [h1].[Id], [h1].[Caption], [h1].[CreatedAt], [h1].[HomestayId], [h1].[ImageUrl], [h1].[IsPrimary], [h1].[Order], CASE
    WHEN [t].[Status] = 3 AND [t].[ReviewRating] IS NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN [t].[Status] IN (0, 1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [h2].[Id], [h2].[Caption], [h2].[CreatedAt], [h2].[HomestayId], [h2].[ImageUrl], [h2].[IsPrimary], [h2].[Order]
FROM (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[UserId] = @__userId_0
    ORDER BY [b].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Homestays] AS [h] ON [t].[HomestayId] = [h].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [h].[HostId] = [a].[Id]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN [HomestayImages] AS [h1] ON [h].[Id] = [h1].[HomestayId]
LEFT JOIN [HomestayImages] AS [h2] ON [h].[Id] = [h2].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [h].[Id], [a].[Id], [h0].[Id], [h1].[Id]
2025-06-11 08:45:47.906 +07:00 [INF] Executing ViewResult, running view MyBookings.
2025-06-11 08:45:47.907 +07:00 [INF] Executed ViewResult - view MyBookings executed in 1.6857ms.
2025-06-11 08:45:47.908 +07:00 [INF] Executed action WebHS.Controllers.BookingController.MyBookings (WebHS) in 19.4433ms
2025-06-11 08:45:47.909 +07:00 [INF] Executed endpoint 'WebHS.Controllers.BookingController.MyBookings (WebHS)'
2025-06-11 08:45:47.910 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:47.911 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Booking/MyBookings - 200 null text/html; charset=utf-8 30.3905ms
2025-06-11 08:45:47.914 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:47.914 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:47.919 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.7569ms
2025-06-11 08:45:47.920 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.7318ms
2025-06-11 08:45:49.261 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout - application/x-www-form-urlencoded 225
2025-06-11 08:45:49.264 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:45:49.265 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:45:49.267 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Logout (WebHS)'
2025-06-11 08:45:49.268 +07:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:45:49.270 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-06-11 08:45:49.270 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-06-11 08:45:49.271 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-06-11 08:45:49.272 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-06-11 08:45:49.273 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Logout (WebHS) in 3.5199ms
2025-06-11 08:45:49.274 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Logout (WebHS)'
2025-06-11 08:45:49.275 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Account/Logout - 302 0 null 13.8104ms
2025-06-11 08:45:49.277 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:45:49.280 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:49.280 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:45:49.281 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:45:49.284 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:45:49.288 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:45:49.290 +07:00 [INF] Executed ViewResult - view Index executed in 1.4635ms.
2025-06-11 08:45:49.291 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 8.5831ms
2025-06-11 08:45:49.292 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:45:49.293 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:49.294 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 16.9593ms
2025-06-11 08:45:49.297 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:49.297 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:49.303 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.939ms
2025-06-11 08:45:49.303 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 6.0712ms
2025-06-11 08:45:49.856 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login - null null
2025-06-11 08:45:49.859 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:49.860 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:45:49.861 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:45:49.863 +07:00 [INF] Executing ViewResult, running view Login.
2025-06-11 08:45:49.864 +07:00 [INF] Executed ViewResult - view Login executed in 1.607ms.
2025-06-11 08:45:49.865 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 2.8317ms
2025-06-11 08:45:49.866 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:45:49.867 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:49.868 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Account/Login - 200 null text/html; charset=utf-8 12.2056ms
2025-06-11 08:45:49.871 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:49.871 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:49.874 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.4737ms
2025-06-11 08:45:49.879 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.92ms
2025-06-11 08:45:56.389 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login - application/x-www-form-urlencoded 250
2025-06-11 08:45:56.392 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:45:56.393 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:45:56.394 +07:00 [INF] Executing endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:45:56.395 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebHS.ViewModels.LoginViewModel, System.String) on controller WebHS.Controllers.AccountController (WebHS).
2025-06-11 08:45:56.400 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:45:56.404 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-06-11 08:45:56.465 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-11 08:45:56.469 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-11 08:45:56.471 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:45:56.474 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-11 08:45:56.476 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-11 08:45:56.477 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-06-11 08:45:56.477 +07:00 [INF] Executed action WebHS.Controllers.AccountController.Login (WebHS) in 80.7626ms
2025-06-11 08:45:56.478 +07:00 [INF] Executed endpoint 'WebHS.Controllers.AccountController.Login (WebHS)'
2025-06-11 08:45:56.479 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Account/Login - 302 0 null 90.4191ms
2025-06-11 08:45:56.482 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:45:56.485 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:56.486 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:45:56.487 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:45:56.490 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:45:56.493 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:45:56.495 +07:00 [INF] Executed ViewResult - view Index executed in 1.4973ms.
2025-06-11 08:45:56.496 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 7.6635ms
2025-06-11 08:45:56.497 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:45:56.498 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:56.499 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 17.181ms
2025-06-11 08:45:56.502 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:56.503 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:56.505 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.0369ms
2025-06-11 08:45:56.510 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.0398ms
2025-06-11 08:45:58.226 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Host/ManageBookings - null null
2025-06-11 08:45:58.229 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:58.232 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HostController.ManageBookings (WebHS)'
2025-06-11 08:45:58.236 +07:00 [INF] Route matched with {action = "ManageBookings", controller = "Host"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ManageBookings(Int32) on controller WebHS.Controllers.HostController (WebHS).
2025-06-11 08:45:58.240 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__hostId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Homestays] AS [h] ON [b].[HomestayId] = [h].[Id]
WHERE [h].[HostId] = @__hostId_0
2025-06-11 08:45:58.256 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__hostId_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[NumberOfGuests], [t].[FinalAmount], [t].[Status], [t].[TotalAmount], [t].[DiscountAmount], [t].[CreatedAt], [t].[HomestayId], [t].[Notes], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[UpdatedAt], [t].[UserId], [t].[Id0], [t].[Address], [t].[Bathrooms], [t].[Bedrooms], [t].[City], [t].[Country], [t].[CreatedAt0], [t].[Description], [t].[District], [t].[HostId], [t].[IsActive], [t].[IsApproved], [t].[Latitude], [t].[Longitude], [t].[MaxGuests], [t].[Name], [t].[PricePerNight], [t].[Rules], [t].[State], [t].[UpdatedAt0], [t].[Ward], [t].[ZipCode], [a].[Id], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [h1].[Id], [h1].[Caption], [h1].[CreatedAt], [h1].[HomestayId], [h1].[ImageUrl], [h1].[IsPrimary], [h1].[Order], COALESCE([a].[Email], N''), COALESCE([a].[PhoneNumber], N''), CASE
    WHEN [t].[Status] = 0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [h2].[Id], [h2].[Caption], [h2].[CreatedAt], [h2].[HomestayId], [h2].[ImageUrl], [h2].[IsPrimary], [h2].[Order]
FROM (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId], [h].[Id] AS [Id0], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt] AS [CreatedAt0], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt] AS [UpdatedAt0], [h].[Ward], [h].[ZipCode]
    FROM [Bookings] AS [b]
    INNER JOIN [Homestays] AS [h] ON [b].[HomestayId] = [h].[Id]
    WHERE [h].[HostId] = @__hostId_0
    ORDER BY [b].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
LEFT JOIN [HomestayImages] AS [h0] ON [t].[Id0] = [h0].[HomestayId]
LEFT JOIN [HomestayImages] AS [h1] ON [t].[Id0] = [h1].[HomestayId]
LEFT JOIN [HomestayImages] AS [h2] ON [t].[Id0] = [h2].[HomestayId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [t].[Id0], [a].[Id], [h0].[Id], [h1].[Id]
2025-06-11 08:45:58.263 +07:00 [INF] Executing ViewResult, running view ManageBookings.
2025-06-11 08:45:58.267 +07:00 [ERR] The view 'ManageBookings' was not found. Searched locations: ["/Views/Host/ManageBookings.cshtml","/Views/Shared/ManageBookings.cshtml"]
2025-06-11 08:45:58.272 +07:00 [INF] Executed action WebHS.Controllers.HostController.ManageBookings (WebHS) in 33.9484ms
2025-06-11 08:45:58.273 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HostController.ManageBookings (WebHS)'
2025-06-11 08:45:58.387 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'ManageBookings' was not found. The following locations were searched:
/Views/Host/ManageBookings.cshtml
/Views/Shared/ManageBookings.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at WebHS.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in D:\WebHS\Middleware\RateLimitingMiddleware.cs:line 40
   at WebHS.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in D:\WebHS\Middleware\SecurityHeadersMiddleware.cs:line 31
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-11 08:45:58.409 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Host/ManageBookings - 500 null text/html; charset=utf-8 183.6615ms
2025-06-11 08:45:58.417 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:58.417 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:45:58.419 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.4578ms
2025-06-11 08:45:58.425 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.8616ms
2025-06-11 08:45:59.864 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-06-11 08:45:59.867 +07:00 [INF] No cached response available for this request.
2025-06-11 08:45:59.868 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:45:59.869 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller WebHS.Controllers.HomeController (WebHS).
2025-06-11 08:45:59.875 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Bathrooms], [h].[Bedrooms], [h].[City], [h].[Country], [h].[CreatedAt], [h].[Description], [h].[District], [h].[HostId], [h].[IsActive], [h].[IsApproved], [h].[Latitude], [h].[Longitude], [h].[MaxGuests], [h].[Name], [h].[PricePerNight], [h].[Rules], [h].[State], [h].[UpdatedAt], [h].[Ward], [h].[ZipCode], [h0].[Id], [h0].[Caption], [h0].[CreatedAt], [h0].[HomestayId], [h0].[ImageUrl], [h0].[IsPrimary], [h0].[Order], [t].[Id], [t].[CheckInDate], [t].[CheckOutDate], [t].[CreatedAt], [t].[DiscountAmount], [t].[FinalAmount], [t].[HomestayId], [t].[Notes], [t].[NumberOfGuests], [t].[PromotionId], [t].[ReviewComment], [t].[ReviewCreatedAt], [t].[ReviewIsActive], [t].[ReviewRating], [t].[ReviewUpdatedAt], [t].[Status], [t].[TotalAmount], [t].[UpdatedAt], [t].[UserId]
FROM [Homestays] AS [h]
LEFT JOIN [HomestayImages] AS [h0] ON [h].[Id] = [h0].[HomestayId]
LEFT JOIN (
    SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
    FROM [Bookings] AS [b]
    WHERE [b].[ReviewRating] IS NOT NULL
) AS [t] ON [h].[Id] = [t].[HomestayId]
WHERE [h].[IsActive] = CAST(1 AS bit) AND [h].[IsApproved] = CAST(1 AS bit)
ORDER BY [h].[Id], [h0].[Id]
2025-06-11 08:45:59.878 +07:00 [INF] Executing ViewResult, running view Index.
2025-06-11 08:45:59.879 +07:00 [INF] Executed ViewResult - view Index executed in 1.3862ms.
2025-06-11 08:45:59.880 +07:00 [INF] Executed action WebHS.Controllers.HomeController.Index (WebHS) in 9.9017ms
2025-06-11 08:45:59.881 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomeController.Index (WebHS)'
2025-06-11 08:45:59.882 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:45:59.883 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 19.7567ms
2025-06-11 08:45:59.886 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:45:59.888 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 1.9902ms
2025-06-11 08:46:01.906 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Homestay/Create - null null
2025-06-11 08:46:01.909 +07:00 [INF] No cached response available for this request.
2025-06-11 08:46:01.911 +07:00 [INF] Executing endpoint 'WebHS.Controllers.HomestayController.Create (WebHS)'
2025-06-11 08:46:01.914 +07:00 [INF] Route matched with {action = "Create", controller = "Homestay"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller WebHS.Controllers.HomestayController (WebHS).
2025-06-11 08:46:01.923 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreatedAt], [a].[Description], [a].[Icon], [a].[IsActive], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit)
ORDER BY [a].[Name]
2025-06-11 08:46:01.926 +07:00 [INF] Executing ViewResult, running view Create.
2025-06-11 08:46:02.025 +07:00 [INF] Executed ViewResult - view Create executed in 98.6524ms.
2025-06-11 08:46:02.027 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-06-11 08:46:02.027 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2025-06-11 08:46:02.028 +07:00 [INF] Executed action WebHS.Controllers.HomestayController.Create (WebHS) in 112.8648ms
2025-06-11 08:46:02.032 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 4.1556ms
2025-06-11 08:46:02.037 +07:00 [INF] Executed endpoint 'WebHS.Controllers.HomestayController.Create (WebHS)'
2025-06-11 08:46:02.039 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.7443ms
2025-06-11 08:46:02.044 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:46:02.049 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Homestay/Create - 200 null text/html; charset=utf-8 143.4685ms
2025-06-11 08:46:13.254 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - application/json 62
2025-06-11 08:46:13.270 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:46:13.271 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:46:13.276 +07:00 [INF] Executing endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:46:13.285 +07:00 [INF] Route matched with {action = "GetEnhancedAddress", controller = "EnhancedGeocoding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnhancedAddress(System.Nullable`1[System.Double], System.Nullable`1[System.Double], WebHS.Controllers.EnhancedReverseGeocodingRequest) on controller WebHS.Controllers.EnhancedGeocodingController (WebHS).
2025-06-11 08:46:13.328 +07:00 [INF] Start processing HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=21.000894998964963&lon=105.96648713527009&format=json&addressdetails=1
2025-06-11 08:46:13.338 +07:00 [INF] Sending HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=21.000894998964963&lon=105.96648713527009&format=json&addressdetails=1
2025-06-11 08:46:14.165 +07:00 [INF] Received HTTP response headers after 818.5921ms - 200
2025-06-11 08:46:14.170 +07:00 [INF] End processing HTTP request after 844.8218ms - 200
2025-06-11 08:46:14.187 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`8[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType16`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebHS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:46:14.195 +07:00 [INF] Executed action WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS) in 907.3808ms
2025-06-11 08:46:14.196 +07:00 [INF] Executed endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:46:14.197 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - 200 null application/json; charset=utf-8 942.6253ms
2025-06-11 08:47:31.222 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - application/json 62
2025-06-11 08:47:31.228 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:47:31.228 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:47:31.231 +07:00 [INF] Executing endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:47:31.231 +07:00 [INF] Route matched with {action = "GetEnhancedAddress", controller = "EnhancedGeocoding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnhancedAddress(System.Nullable`1[System.Double], System.Nullable`1[System.Double], WebHS.Controllers.EnhancedReverseGeocodingRequest) on controller WebHS.Controllers.EnhancedGeocodingController (WebHS).
2025-06-11 08:47:31.238 +07:00 [INF] Start processing HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.716276926380916&lon=106.55182229559358&format=json&addressdetails=1
2025-06-11 08:47:31.239 +07:00 [INF] Sending HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.716276926380916&lon=106.55182229559358&format=json&addressdetails=1
2025-06-11 08:47:32.001 +07:00 [INF] Received HTTP response headers after 760.7247ms - 200
2025-06-11 08:47:32.003 +07:00 [INF] End processing HTTP request after 764.1522ms - 200
2025-06-11 08:47:32.010 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`8[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType16`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebHS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:47:32.011 +07:00 [INF] Executed action WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS) in 778.3381ms
2025-06-11 08:47:32.013 +07:00 [INF] Executed endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:47:32.013 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - 200 null application/json; charset=utf-8 791.3038ms
2025-06-11 08:48:55.498 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - application/json 62
2025-06-11 08:48:55.504 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:48:55.504 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:48:55.506 +07:00 [INF] Executing endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:48:55.506 +07:00 [INF] Route matched with {action = "GetEnhancedAddress", controller = "EnhancedGeocoding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnhancedAddress(System.Nullable`1[System.Double], System.Nullable`1[System.Double], WebHS.Controllers.EnhancedReverseGeocodingRequest) on controller WebHS.Controllers.EnhancedGeocodingController (WebHS).
2025-06-11 08:48:55.509 +07:00 [INF] Start processing HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.718169100003859&lon=106.55051620082568&format=json&addressdetails=1
2025-06-11 08:48:55.510 +07:00 [INF] Sending HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.718169100003859&lon=106.55051620082568&format=json&addressdetails=1
2025-06-11 08:48:56.254 +07:00 [INF] Received HTTP response headers after 742.7434ms - 200
2025-06-11 08:48:56.255 +07:00 [INF] End processing HTTP request after 746.8362ms - 200
2025-06-11 08:48:56.257 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`8[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType16`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebHS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:48:56.258 +07:00 [INF] Executed action WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS) in 749.9299ms
2025-06-11 08:48:56.259 +07:00 [INF] Executed endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:48:56.260 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - 200 null application/json; charset=utf-8 762.0906ms
2025-06-11 08:49:02.367 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/appspecific/com.chrome.devtools.json - null null
2025-06-11 08:49:02.369 +07:00 [INF] No cached response available for this request.
2025-06-11 08:49:02.372 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:49:02.372 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 5.3343ms
2025-06-11 08:49:02.376 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-06-11 08:49:02.468 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.min.css.map - null null
2025-06-11 08:49:02.471 +07:00 [INF] No cached response available for this request.
2025-06-11 08:49:02.471 +07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2025-06-11 08:49:02.472 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:49:02.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.min.css.map - 304 null text/plain 4.9144ms
2025-06-11 08:49:02.764 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2025-06-11 08:49:02.766 +07:00 [INF] No cached response available for this request.
2025-06-11 08:49:02.767 +07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2025-06-11 08:49:02.768 +07:00 [INF] The response could not be cached for this request.
2025-06-11 08:49:02.768 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 304 null text/plain 4.5987ms
2025-06-11 08:49:36.738 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - application/json 62
2025-06-11 08:49:36.745 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:49:36.745 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:49:36.747 +07:00 [INF] Executing endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:49:36.748 +07:00 [INF] Route matched with {action = "GetEnhancedAddress", controller = "EnhancedGeocoding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnhancedAddress(System.Nullable`1[System.Double], System.Nullable`1[System.Double], WebHS.Controllers.EnhancedReverseGeocodingRequest) on controller WebHS.Controllers.EnhancedGeocodingController (WebHS).
2025-06-11 08:49:36.750 +07:00 [INF] Start processing HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.231318920519845&lon=106.35128493796621&format=json&addressdetails=1
2025-06-11 08:49:36.751 +07:00 [INF] Sending HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.231318920519845&lon=106.35128493796621&format=json&addressdetails=1
2025-06-11 08:49:37.464 +07:00 [INF] Received HTTP response headers after 712.0613ms - 200
2025-06-11 08:49:37.466 +07:00 [INF] End processing HTTP request after 716.0661ms - 200
2025-06-11 08:49:37.467 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`8[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType16`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebHS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:49:37.468 +07:00 [INF] Executed action WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS) in 719.0142ms
2025-06-11 08:49:37.470 +07:00 [INF] Executed endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:49:37.471 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - 200 null application/json; charset=utf-8 732.3546ms
2025-06-11 08:49:45.810 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - application/json 62
2025-06-11 08:49:45.812 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:49:45.813 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:49:45.814 +07:00 [INF] Executing endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:49:45.815 +07:00 [INF] Route matched with {action = "GetEnhancedAddress", controller = "EnhancedGeocoding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnhancedAddress(System.Nullable`1[System.Double], System.Nullable`1[System.Double], WebHS.Controllers.EnhancedReverseGeocodingRequest) on controller WebHS.Controllers.EnhancedGeocodingController (WebHS).
2025-06-11 08:49:45.817 +07:00 [INF] Start processing HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.227602125459635&lon=106.35376591243367&format=json&addressdetails=1
2025-06-11 08:49:45.817 +07:00 [INF] Sending HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.227602125459635&lon=106.35376591243367&format=json&addressdetails=1
2025-06-11 08:49:46.086 +07:00 [INF] Received HTTP response headers after 267.7218ms - 200
2025-06-11 08:49:46.088 +07:00 [INF] End processing HTTP request after 271.3464ms - 200
2025-06-11 08:49:46.089 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`8[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType16`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebHS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:49:46.091 +07:00 [INF] Executed action WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS) in 274.9051ms
2025-06-11 08:49:46.093 +07:00 [INF] Executed endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:49:46.094 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - 200 null application/json; charset=utf-8 284.2254ms
2025-06-11 08:49:59.298 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - application/json 61
2025-06-11 08:49:59.301 +07:00 [INF] CORS policy execution failed.
2025-06-11 08:49:59.301 +07:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-06-11 08:49:59.303 +07:00 [INF] Executing endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:49:59.304 +07:00 [INF] Route matched with {action = "GetEnhancedAddress", controller = "EnhancedGeocoding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnhancedAddress(System.Nullable`1[System.Double], System.Nullable`1[System.Double], WebHS.Controllers.EnhancedReverseGeocodingRequest) on controller WebHS.Controllers.EnhancedGeocodingController (WebHS).
2025-06-11 08:49:59.306 +07:00 [INF] Start processing HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.22720382541121&lon=106.35337153645403&format=json&addressdetails=1
2025-06-11 08:49:59.307 +07:00 [INF] Sending HTTP request GET https://nominatim.openstreetmap.org/reverse?lat=10.22720382541121&lon=106.35337153645403&format=json&addressdetails=1
2025-06-11 08:49:59.596 +07:00 [INF] Received HTTP response headers after 288.0568ms - 200
2025-06-11 08:49:59.598 +07:00 [INF] End processing HTTP request after 291.7707ms - 200
2025-06-11 08:49:59.599 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`8[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType16`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebHS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-11 08:49:59.600 +07:00 [INF] Executed action WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS) in 294.7069ms
2025-06-11 08:49:59.602 +07:00 [INF] Executed endpoint 'WebHS.Controllers.EnhancedGeocodingController.GetEnhancedAddress (WebHS)'
2025-06-11 08:49:59.602 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/enhancedgeocoding/address - 200 null application/json; charset=utf-8 304.5643ms
2025-06-11 08:58:15.482 +07:00 [INF] Starting database basic initialization...
2025-06-11 08:58:16.467 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-11 08:58:16.511 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-11 08:58:16.516 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-11 08:58:16.520 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-11 08:58:16.535 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-11 08:58:16.552 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-11 08:58:16.562 +07:00 [INF] User profile is available. Using 'C:\Users\84788\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-11 08:58:16.774 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:58:16.815 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:58:16.819 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-11 08:58:16.834 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:58:16.881 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:58:16.885 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:58:16.888 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:58:16.892 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:58:16.895 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:58:16.898 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Bio], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[IsHost], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-11 08:58:16.900 +07:00 [INF] Starting sample data seeding...
2025-06-11 08:58:16.902 +07:00 [INF] Starting data seeding...
2025-06-11 08:58:16.914 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Amenities] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:58:16.917 +07:00 [INF] Amenities already exist, skipping seed
2025-06-11 08:58:16.924 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Homestays] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:58:16.926 +07:00 [INF] Homestays already exist, skipping seed
2025-06-11 08:58:16.933 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Promotions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:58:16.935 +07:00 [INF] Promotions already exist, skipping seed
2025-06-11 08:58:16.942 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Bookings] AS [b]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:58:16.944 +07:00 [INF] Bookings already exist, skipping seed
2025-06-11 08:58:16.959 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInDate], [b].[CheckOutDate], [b].[CreatedAt], [b].[DiscountAmount], [b].[FinalAmount], [b].[HomestayId], [b].[Notes], [b].[NumberOfGuests], [b].[PromotionId], [b].[ReviewComment], [b].[ReviewCreatedAt], [b].[ReviewIsActive], [b].[ReviewRating], [b].[ReviewUpdatedAt], [b].[Status], [b].[TotalAmount], [b].[UpdatedAt], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Status] = 4 AND [b].[ReviewRating] IS NULL
2025-06-11 08:58:16.975 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-11 08:58:16.977 +07:00 [INF] Payments already exist, skipping seed
2025-06-11 08:58:16.978 +07:00 [INF] Data seeding completed successfully
2025-06-11 08:58:16.979 +07:00 [INF] Sample data seeding completed successfully.
2025-06-11 08:58:16.981 +07:00 [INF] Database initialization completed successfully.
2025-06-11 08:58:17.030 +07:00 [INF] Background Job Service started
2025-06-11 08:58:17.080 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BookingId], [p].[CompletedAt], [p].[CreatedAt], [p].[Notes], [p].[PaymentMethod], [p].[Status], [p].[TransactionId], [p].[UpdatedAt], [p].[UserId]
FROM [Payments] AS [p]
WHERE [p].[Status] = 0 AND [p].[CreatedAt] < DATEADD(hour, CAST(-24.0E0 AS int), GETUTCDATE())
2025-06-11 08:58:17.091 +07:00 [INF] Processed 0 expired payments
2025-06-11 08:58:17.146 +07:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2025-06-11 08:58:17.199 +07:00 [INF] Now listening on: https://localhost:5001
2025-06-11 08:58:17.200 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-11 08:58:17.201 +07:00 [INF] Hosting environment: Development
2025-06-11 08:58:17.203 +07:00 [INF] Content root path: d:\WebHS
